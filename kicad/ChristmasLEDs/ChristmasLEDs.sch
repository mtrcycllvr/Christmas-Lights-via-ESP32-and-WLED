EESchema Schematic File Version 4
LIBS:ChristmasLEDs-cache
EELAYER 26 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 1 1
Title "ESP-32 WLED Christmas light driver"
Date "2022-01-24"
Rev "1.2"
Comp ""
Comment1 ""
Comment2 ""
Comment3 "Christmas Light strings"
Comment4 "Use ESP-32UE (external antenna!!) to drive"
$EndDescr
$Comp
L 74xx:74HC245 U1
U 1 1 61E54613
P 8800 2800
F 0 "U1" H 8800 3778 50  0000 C CNN
F 1 "74HC245" H 8800 3687 50  0000 C CNN
F 2 "Package_DIP:DIP-20_W7.62mm" H 8800 2800 50  0001 C CNN
F 3 "http://www.ti.com/lit/gpn/sn74HC245" H 8800 2800 50  0001 C CNN
	1    8800 2800
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x02_Male J1
U 1 1 61E54835
P 5300 1350
F 0 "J1" H 5406 1528 50  0000 C CNN
F 1 "Power" H 5406 1437 50  0000 C CNN
F 2 "Connector_JST:JST_XH_B02B-XH-AM_1x02_P2.50mm_Vertical" H 5300 1350 50  0001 C CNN
F 3 "~" H 5300 1350 50  0001 C CNN
	1    5300 1350
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x03_Male J3
U 1 1 61E548EF
P 2050 1650
F 0 "J3" H 2156 1928 50  0000 C CNN
F 1 "Relay" H 2156 1837 50  0000 C CNN
F 2 "Connector_JST:JST_XH_B03B-XH-AM_1x03_P2.50mm_Vertical" H 2050 1650 50  0001 C CNN
F 3 "~" H 2050 1650 50  0001 C CNN
	1    2050 1650
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x05_Male J4
U 1 1 61E549A8
P 1650 3050
F 0 "J4" H 1756 3428 50  0000 C CNN
F 1 "LEDs" H 1756 3337 50  0000 C CNN
F 2 "Connector_JST:JST_XH_B05B-XH-AM_1x05_P2.50mm_Vertical" H 1650 3050 50  0001 C CNN
F 3 "~" H 1650 3050 50  0001 C CNN
	1    1650 3050
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H3
U 1 1 61E54BCE
P 3950 1150
F 0 "H3" H 4050 1196 50  0000 L CNN
F 1 "MountingHole" H 4050 1105 50  0000 L CNN
F 2 "MountingHole:MountingHole_4mm" H 3950 1150 50  0001 C CNN
F 3 "~" H 3950 1150 50  0001 C CNN
	1    3950 1150
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H2
U 1 1 61E54C3D
P 3950 950
F 0 "H2" H 4050 996 50  0000 L CNN
F 1 "MountingHole" H 4050 905 50  0000 L CNN
F 2 "MountingHole:MountingHole_4mm" H 3950 950 50  0001 C CNN
F 3 "~" H 3950 950 50  0001 C CNN
	1    3950 950 
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H1
U 1 1 61E54C54
P 3950 750
F 0 "H1" H 4050 796 50  0000 L CNN
F 1 "MountingHole" H 4050 705 50  0000 L CNN
F 2 "MountingHole:MountingHole_4mm" H 3950 750 50  0001 C CNN
F 3 "~" H 3950 750 50  0001 C CNN
	1    3950 750 
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole H4
U 1 1 61E54C75
P 3950 1350
F 0 "H4" H 4050 1396 50  0000 L CNN
F 1 "MountingHole" H 4050 1305 50  0000 L CNN
F 2 "MountingHole:MountingHole_4mm" H 3950 1350 50  0001 C CNN
F 3 "~" H 3950 1350 50  0001 C CNN
	1    3950 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 1750 2750 1750
Text Label 2750 1750 2    50   ~ 0
GPIO4b
$Comp
L power:+5V #PWR0101
U 1 1 61E55062
P 6650 1100
F 0 "#PWR0101" H 6650 950 50  0001 C CNN
F 1 "+5V" H 6665 1273 50  0000 C CNN
F 2 "" H 6650 1100 50  0001 C CNN
F 3 "" H 6650 1100 50  0001 C CNN
	1    6650 1100
	1    0    0    -1  
$EndComp
$Comp
L ChristmasLEDs-rescue:ESP32-DevKitC-Espressif U2
U 1 1 61E5643C
P 4750 3650
F 0 "U2" H 4825 4815 50  0000 C CNN
F 1 "ESP32-DevKitC" H 4825 4724 50  0000 C CNN
F 2 "Espressif:ESP32-DevKitC" H 4750 2400 50  0001 C CNN
F 3 "https://docs.espressif.com/projects/esp-idf/zh_CN/latest/esp32/hw-reference/esp32/get-started-devkitc.html" H 4900 2400 50  0001 C CNN
	1    4750 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2300 4600 2300 4350
Wire Wire Line
	2300 4600 3450 4600
$Comp
L power:+5V #PWR0102
U 1 1 61E564C1
P 2300 4350
F 0 "#PWR0102" H 2300 4200 50  0001 C CNN
F 1 "+5V" H 2315 4523 50  0000 C CNN
F 2 "" H 2300 4350 50  0001 C CNN
F 3 "" H 2300 4350 50  0001 C CNN
	1    2300 4350
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0103
U 1 1 61E5650E
P 8800 2000
F 0 "#PWR0103" H 8800 1850 50  0001 C CNN
F 1 "+5V" H 8815 2173 50  0000 C CNN
F 2 "" H 8800 2000 50  0001 C CNN
F 3 "" H 8800 2000 50  0001 C CNN
	1    8800 2000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0104
U 1 1 61E56593
P 8800 3600
F 0 "#PWR0104" H 8800 3350 50  0001 C CNN
F 1 "GND" H 8805 3427 50  0000 C CNN
F 2 "" H 8800 3600 50  0001 C CNN
F 3 "" H 8800 3600 50  0001 C CNN
	1    8800 3600
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0105
U 1 1 61E565E0
P 8300 3350
F 0 "#PWR0105" H 8300 3100 50  0001 C CNN
F 1 "GND" H 8305 3177 50  0000 C CNN
F 2 "" H 8300 3350 50  0001 C CNN
F 3 "" H 8300 3350 50  0001 C CNN
	1    8300 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8300 3350 8300 3300
Wire Wire Line
	8300 3200 8300 3300
Connection ~ 8300 3300
Wire Wire Line
	3450 4000 3250 4000
Wire Wire Line
	3450 4200 3250 4200
Wire Wire Line
	6200 4200 6450 4200
Wire Wire Line
	6200 4300 6450 4300
Wire Wire Line
	6200 4000 6450 4000
Wire Wire Line
	8300 2300 8050 2300
Wire Wire Line
	8300 2400 8050 2400
Wire Wire Line
	8300 2500 8050 2500
Wire Wire Line
	8300 2600 8050 2600
Wire Wire Line
	8300 2700 8050 2700
Wire Wire Line
	9300 2300 9650 2300
Wire Wire Line
	9300 2400 9650 2400
Wire Wire Line
	9300 2500 9650 2500
Wire Wire Line
	9300 2600 9650 2600
Wire Wire Line
	9300 2700 9650 2700
Wire Wire Line
	6200 2800 6500 2800
Wire Wire Line
	6500 2800 6500 2900
$Comp
L power:GND #PWR0106
U 1 1 61E5790A
P 6500 2900
F 0 "#PWR0106" H 6500 2650 50  0001 C CNN
F 1 "GND" H 6505 2727 50  0000 C CNN
F 2 "" H 6500 2900 50  0001 C CNN
F 3 "" H 6500 2900 50  0001 C CNN
	1    6500 2900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0107
U 1 1 61E57957
P 6500 3400
F 0 "#PWR0107" H 6500 3150 50  0001 C CNN
F 1 "GND" H 6505 3227 50  0000 C CNN
F 2 "" H 6500 3400 50  0001 C CNN
F 3 "" H 6500 3400 50  0001 C CNN
	1    6500 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 3400 6500 3400
Wire Wire Line
	3450 4100 2900 4100
Wire Wire Line
	2900 4100 2900 4200
$Comp
L power:GND #PWR0108
U 1 1 61E57F1B
P 2900 4200
F 0 "#PWR0108" H 2900 3950 50  0001 C CNN
F 1 "GND" H 2905 4027 50  0000 C CNN
F 2 "" H 2900 4200 50  0001 C CNN
F 3 "" H 2900 4200 50  0001 C CNN
	1    2900 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 1350 5950 1350
Wire Wire Line
	5950 1350 5950 1200
Wire Wire Line
	5500 1450 5950 1450
Wire Wire Line
	5950 1450 5950 1600
Wire Wire Line
	2250 1550 2700 1550
Wire Wire Line
	2700 1550 2700 1450
Wire Wire Line
	2250 1650 2900 1650
Wire Wire Line
	2900 1650 2900 1900
Wire Wire Line
	2750 3250 2750 3450
Wire Wire Line
	2150 2850 2550 2850
Wire Wire Line
	2150 2950 2550 2950
Wire Wire Line
	2150 3050 2550 3050
Wire Wire Line
	2150 3150 2550 3150
$Comp
L power:GND #PWR0109
U 1 1 61E5B631
P 5950 1600
F 0 "#PWR0109" H 5950 1350 50  0001 C CNN
F 1 "GND" H 5955 1427 50  0000 C CNN
F 2 "" H 5950 1600 50  0001 C CNN
F 3 "" H 5950 1600 50  0001 C CNN
	1    5950 1600
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0110
U 1 1 61E5B687
P 2900 1900
F 0 "#PWR0110" H 2900 1650 50  0001 C CNN
F 1 "GND" H 2905 1727 50  0000 C CNN
F 2 "" H 2900 1900 50  0001 C CNN
F 3 "" H 2900 1900 50  0001 C CNN
	1    2900 1900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0111
U 1 1 61E5B6D4
P 2750 3450
F 0 "#PWR0111" H 2750 3200 50  0001 C CNN
F 1 "GND" H 2755 3277 50  0000 C CNN
F 2 "" H 2750 3450 50  0001 C CNN
F 3 "" H 2750 3450 50  0001 C CNN
	1    2750 3450
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0112
U 1 1 61E5C04C
P 5950 1200
F 0 "#PWR0112" H 5950 1050 50  0001 C CNN
F 1 "+5V" H 5965 1373 50  0000 C CNN
F 2 "" H 5950 1200 50  0001 C CNN
F 3 "" H 5950 1200 50  0001 C CNN
	1    5950 1200
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0113
U 1 1 61E5C099
P 2700 1450
F 0 "#PWR0113" H 2700 1300 50  0001 C CNN
F 1 "+5V" H 2715 1623 50  0000 C CNN
F 2 "" H 2700 1450 50  0001 C CNN
F 3 "" H 2700 1450 50  0001 C CNN
	1    2700 1450
	1    0    0    -1  
$EndComp
Text Label 2550 2850 0    50   ~ 0
GPIO2b
Text Label 2550 2950 0    50   ~ 0
GPIO12b
Text Label 2550 3050 0    50   ~ 0
GPIO13b
Text Label 2550 3150 0    50   ~ 0
GPIO15b
$Comp
L Device:R R1
U 1 1 61E5CC17
P 2000 2850
F 0 "R1" V 1793 2850 50  0000 C CNN
F 1 "33" V 1884 2850 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 1930 2850 50  0001 C CNN
F 3 "~" H 2000 2850 50  0001 C CNN
	1    2000 2850
	0    1    1    0   
$EndComp
$Comp
L Device:R R2
U 1 1 61E5CD0E
P 2000 2950
F 0 "R2" V 1793 2950 50  0000 C CNN
F 1 "33" V 1884 2950 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 1930 2950 50  0001 C CNN
F 3 "~" H 2000 2950 50  0001 C CNN
	1    2000 2950
	0    1    1    0   
$EndComp
$Comp
L Device:R R3
U 1 1 61E5D574
P 2000 3050
F 0 "R3" V 1793 3050 50  0000 C CNN
F 1 "33" V 1884 3050 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 1930 3050 50  0001 C CNN
F 3 "~" H 2000 3050 50  0001 C CNN
	1    2000 3050
	0    1    1    0   
$EndComp
$Comp
L Device:R R4
U 1 1 61E5DDDF
P 2000 3150
F 0 "R4" V 1793 3150 50  0000 C CNN
F 1 "33" V 1884 3150 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 1930 3150 50  0001 C CNN
F 3 "~" H 2000 3150 50  0001 C CNN
	1    2000 3150
	0    1    1    0   
$EndComp
Wire Wire Line
	1850 3250 2750 3250
Text Label 3250 4000 2    50   ~ 0
GPIO12
Text Label 3250 4200 2    50   ~ 0
GPIO13
Text Label 6450 4200 0    50   ~ 0
GPIO2
Text Label 6450 4300 0    50   ~ 0
GPIO15
Text Label 6450 4000 0    50   ~ 0
GPIO4
Text Label 9650 2700 0    50   ~ 0
GPIO4
Text Label 8050 2700 2    50   ~ 0
GPIO4b
Text Label 8050 2600 2    50   ~ 0
GPIO15b
Text Label 8050 2500 2    50   ~ 0
GPIO13b
Text Label 8050 2400 2    50   ~ 0
GPIO12b
Text Label 8050 2300 2    50   ~ 0
GPIO2b
Text Label 9650 2300 0    50   ~ 0
GPIO2
Text Label 9650 2400 0    50   ~ 0
GPIO12
Text Label 9650 2500 0    50   ~ 0
GPIO13
Text Label 9650 2600 0    50   ~ 0
GPIO15
$Comp
L pspice:C C2
U 1 1 61E6077A
P 7500 1350
F 0 "C2" H 7678 1396 50  0000 L CNN
F 1 ".1uf" H 7678 1305 50  0000 L CNN
F 2 "Capacitor_THT:C_Disc_D5.0mm_W2.5mm_P2.50mm" H 7500 1350 50  0001 C CNN
F 3 "~" H 7500 1350 50  0001 C CNN
	1    7500 1350
	1    0    0    -1  
$EndComp
$Comp
L pspice:C C3
U 1 1 61E607F6
P 8150 1350
F 0 "C3" H 8328 1396 50  0000 L CNN
F 1 ".1uf" H 8328 1305 50  0000 L CNN
F 2 "Capacitor_THT:C_Disc_D5.0mm_W2.5mm_P2.50mm" H 8150 1350 50  0001 C CNN
F 3 "~" H 8150 1350 50  0001 C CNN
	1    8150 1350
	1    0    0    -1  
$EndComp
$Comp
L pspice:C C1
U 1 1 61E60865
P 6650 1350
F 0 "C1" H 6828 1396 50  0000 L CNN
F 1 "47uf@50v" H 6828 1305 50  0000 L CNN
F 2 "Capacitor_THT:CP_Radial_D6.3mm_P2.50mm" H 6650 1350 50  0001 C CNN
F 3 "~" H 6650 1350 50  0001 C CNN
	1    6650 1350
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0114
U 1 1 61E61144
P 7500 1100
F 0 "#PWR0114" H 7500 950 50  0001 C CNN
F 1 "+5V" H 7515 1273 50  0000 C CNN
F 2 "" H 7500 1100 50  0001 C CNN
F 3 "" H 7500 1100 50  0001 C CNN
	1    7500 1100
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0115
U 1 1 61E619C0
P 8150 1100
F 0 "#PWR0115" H 8150 950 50  0001 C CNN
F 1 "+5V" H 8165 1273 50  0000 C CNN
F 2 "" H 8150 1100 50  0001 C CNN
F 3 "" H 8150 1100 50  0001 C CNN
	1    8150 1100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0116
U 1 1 61E62251
P 6650 1600
F 0 "#PWR0116" H 6650 1350 50  0001 C CNN
F 1 "GND" H 6655 1427 50  0000 C CNN
F 2 "" H 6650 1600 50  0001 C CNN
F 3 "" H 6650 1600 50  0001 C CNN
	1    6650 1600
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0117
U 1 1 61E62ACD
P 7500 1600
F 0 "#PWR0117" H 7500 1350 50  0001 C CNN
F 1 "GND" H 7505 1427 50  0000 C CNN
F 2 "" H 7500 1600 50  0001 C CNN
F 3 "" H 7500 1600 50  0001 C CNN
	1    7500 1600
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0118
U 1 1 61E63349
P 8150 1600
F 0 "#PWR0118" H 8150 1350 50  0001 C CNN
F 1 "GND" H 8155 1427 50  0000 C CNN
F 2 "" H 8150 1600 50  0001 C CNN
F 3 "" H 8150 1600 50  0001 C CNN
	1    8150 1600
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x03_Male J2
U 1 1 61EF57F5
P 2250 5700
F 0 "J2" H 2356 5978 50  0000 C CNN
F 1 "PIR" H 2356 5887 50  0000 C CNN
F 2 "Connector_JST:JST_XH_B03B-XH-AM_1x03_P2.50mm_Vertical" H 2250 5700 50  0001 C CNN
F 3 "~" H 2250 5700 50  0001 C CNN
	1    2250 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 5600 2900 5600
Wire Wire Line
	2900 5600 2900 5500
Wire Wire Line
	2450 5700 3100 5700
Wire Wire Line
	3100 5700 3100 5950
$Comp
L power:GND #PWR03
U 1 1 61EF5802
P 3100 5950
F 0 "#PWR03" H 3100 5700 50  0001 C CNN
F 1 "GND" H 3105 5777 50  0000 C CNN
F 2 "" H 3100 5950 50  0001 C CNN
F 3 "" H 3100 5950 50  0001 C CNN
	1    3100 5950
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR02
U 1 1 61EF5808
P 2900 5500
F 0 "#PWR02" H 2900 5350 50  0001 C CNN
F 1 "+5V" H 2915 5673 50  0000 C CNN
F 2 "" H 2900 5500 50  0001 C CNN
F 3 "" H 2900 5500 50  0001 C CNN
	1    2900 5500
	1    0    0    -1  
$EndComp
$Comp
L Device:R R5
U 1 1 61EF8107
P 3550 5600
F 0 "R5" H 3620 5646 50  0000 L CNN
F 1 "10k" H 3620 5555 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 3480 5600 50  0001 C CNN
F 3 "~" H 3550 5600 50  0001 C CNN
	1    3550 5600
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR01
U 1 1 61EF8172
P 3550 5450
F 0 "#PWR01" H 3550 5300 50  0001 C CNN
F 1 "+5V" H 3565 5623 50  0000 C CNN
F 2 "" H 3550 5450 50  0001 C CNN
F 3 "" H 3550 5450 50  0001 C CNN
	1    3550 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 5800 3550 5800
Wire Wire Line
	3550 5750 3550 5800
Connection ~ 3550 5800
Wire Wire Line
	3550 5800 3800 5800
$Comp
L Connector:Conn_01x02_Male J6
U 1 1 61EFC9CA
P 2250 6650
F 0 "J6" H 2356 6828 50  0000 C CNN
F 1 "Button1" H 2356 6737 50  0000 C CNN
F 2 "Connector_JST:JST_XH_B02B-XH-AM_1x02_P2.50mm_Vertical" H 2250 6650 50  0001 C CNN
F 3 "~" H 2250 6650 50  0001 C CNN
	1    2250 6650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 6650 2700 6650
Wire Wire Line
	2450 6750 2900 6750
Wire Wire Line
	2900 6750 2900 6900
$Comp
L power:GND #PWR0119
U 1 1 61EFC9D5
P 2900 6900
F 0 "#PWR0119" H 2900 6650 50  0001 C CNN
F 1 "GND" H 2905 6727 50  0000 C CNN
F 2 "" H 2900 6900 50  0001 C CNN
F 3 "" H 2900 6900 50  0001 C CNN
	1    2900 6900
	1    0    0    -1  
$EndComp
$Comp
L Device:R R6
U 1 1 61EFEA98
P 2700 6350
F 0 "R6" H 2770 6396 50  0000 L CNN
F 1 "10k" H 2770 6305 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric" V 2630 6350 50  0001 C CNN
F 3 "~" H 2700 6350 50  0001 C CNN
	1    2700 6350
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0120
U 1 1 61EFEA9F
P 2700 6200
F 0 "#PWR0120" H 2700 6050 50  0001 C CNN
F 1 "+5V" H 2715 6373 50  0000 C CNN
F 2 "" H 2700 6200 50  0001 C CNN
F 3 "" H 2700 6200 50  0001 C CNN
	1    2700 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 3800 6450 3800
Text Label 6450 3800 0    50   ~ 0
GPIO17
Text Label 2900 6650 0    50   ~ 0
GPIO17
Wire Wire Line
	2700 6500 2700 6650
Connection ~ 2700 6650
Wire Wire Line
	2700 6650 2900 6650
Wire Wire Line
	6200 3900 6450 3900
Text Label 6450 3900 0    50   ~ 0
GPIO16
Text Label 3800 5800 0    50   ~ 0
GPIO16
$EndSCHEMATC
